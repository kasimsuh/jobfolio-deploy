(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5786:function(e,t,n){Promise.resolve().then(n.bind(n,8881))},8736:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},6272:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]])},8881:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(7437),s=n(2265),i=n(9376);n(2778);var r=n(9763);let l=(0,r.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var o=n(5005),c=n(8736),d=n(6272);let u=(0,r.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var p=n(3448),h=n(7648),m=n(1461);let g=[{path:"/",icon:l,label:"Dashboard"},{path:"/applications",icon:o.Z,label:"Applications"},{path:"/resumes",icon:c.Z,label:"Resumes"},{path:"/compare",icon:d.Z,label:"Compare"}];function f(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),n=(0,m.tN)(e=>e.logout),s=(0,m.tN)(e=>e.user);return(0,a.jsx)("header",{className:"border-b border-slate-200 bg-white sticky top-0 z-50 shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-500 flex items-center justify-center shadow-soft",children:(0,a.jsx)(o.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-display text-xl font-bold text-slate-800",children:"JobFolio"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Application Tracker + Resume Versioning"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("nav",{className:"flex items-center gap-1",children:g.map(t=>{let{path:n,icon:s,label:i}=t,r=e===n;return(0,a.jsx)(h.default,{href:n,children:(0,a.jsxs)("button",{className:(0,p.cn)("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",r?"bg-primary-50 text-primary-600":"text-slate-600 hover:text-slate-800 hover:bg-slate-100"),children:[(0,a.jsx)(s,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:i})]})},n)})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 border-l border-slate-200 pl-4",children:[s&&(0,a.jsx)("span",{className:"text-sm text-slate-600 hidden md:inline",children:s.name}),(0,a.jsxs)("button",{onClick:()=>{n(),t.push("/login")},className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 transition-all",title:"Logout",children:[(0,a.jsx)(u,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})]})})})}let y=(0,r.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=n(2489);function A(){let e=(0,m.qr)(e=>e.applicationsError),t=(0,m.qr)(e=>e.resumesError),n=(0,m.qr)(e=>e.fetchApplications),s=(0,m.qr)(e=>e.fetchResumes),i=(0,m.qr)(e=>e.clearErrors),r=e||t;return r?(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mx-6 mt-6 rounded",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(y,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Data"}),(0,a.jsx)("p",{className:"text-sm text-red-700 mt-1",children:r}),(0,a.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"Make sure the backend server is running on port 8000."})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,a.jsx)("button",{onClick:()=>{e&&n(),t&&s()},className:"text-sm text-red-600 hover:text-red-800 underline",children:"Retry"}),(0,a.jsx)("button",{onClick:i,className:"text-red-400 hover:text-red-600","aria-label":"Dismiss error",children:(0,a.jsx)(x.Z,{className:"w-4 h-4"})})]})]})}):null}function w(e){let{children:t}=e,n=(0,i.usePathname)(),r=(0,i.useRouter)(),l=(0,m.qr)(e=>e.fetchApplications),o=(0,m.qr)(e=>e.fetchResumes),c=(0,m.qr)(e=>e.isLoadingApplications),d=(0,m.qr)(e=>e.isLoadingResumes),{isAuthenticated:u,isLoading:p,checkAuth:h}=(0,m.tN)();return((0,s.useEffect)(()=>{h()},[h]),(0,s.useEffect)(()=>{u&&(l(),o())},[u,l,o]),(0,s.useEffect)(()=>{p||u||"/login"===n||"/register"===n||r.push("/login")},[u,p,n,r]),p||u&&"/login"!==n&&(c||d))?(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})})}):u||"/login"===n||"/register"===n?(0,a.jsx)("html",{lang:"en",children:(0,a.jsxs)("body",{className:"",children:[u&&"/login"!==n&&(0,a.jsx)(f,{}),u&&(0,a.jsx)(A,{}),(0,a.jsx)("main",{className:u&&"/login"!==n?"px-6 py-6":"",children:t})]})}):(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Redirecting to login..."})})})})})}},1461:function(e,t,n){"use strict";n.d(t,{z$:function(){return c},qr:function(){return l},tN:function(){return d.t}});var a=n(9625),s=n(5023);let i=e=>{let t=e.resumeVersion?{id:e.resumeVersion._id,name:e.resumeVersion.name,description:"",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:null;return{...e,id:e._id,resumeVersion:t,createdAt:e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt||new Date().toISOString()}},r=e=>({...e,id:e._id,createdAt:e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt||new Date().toISOString()}),l=(0,a.Ue)((e,t)=>({applications:[],resumeVersions:[],isLoadingApplications:!1,isLoadingResumes:!1,applicationsError:null,resumesError:null,activeView:"dashboard",selectedApplicationId:null,editingApplicationId:null,editingResumeId:null,isAddingApplication:!1,isAddingResume:!1,searchQuery:"",statusFilter:"all",compareVersionIds:{v1:null,v2:null},fetchApplications:async()=>{e({isLoadingApplications:!0,applicationsError:null});try{let t=(await s.MN.getAll()).data.map(i);e({applications:t,isLoadingApplications:!1})}catch(t){e({applicationsError:"Failed to load applications. Is the backend running on port 8000?",isLoadingApplications:!1}),console.error("Failed to fetch applications:",t)}},fetchResumes:async()=>{e({isLoadingResumes:!0,resumesError:null});try{let t=(await s.op.getAll()).data.map(r);e({resumeVersions:t,isLoadingResumes:!1})}catch(t){e({resumesError:"Failed to load resume versions. Is the backend running on port 8000?",isLoadingResumes:!1}),console.error("Failed to fetch resumes:",t)}},addApplication:async t=>{try{let n={...t},a=await s.MN.create(n),r=i(a.data);e(e=>({applications:[...e.applications,r],isAddingApplication:!1}))}catch(t){throw e({applicationsError:"Failed to create application."}),console.error("Failed to add application:",t),t}},updateApplication:async(t,n)=>{try{let a={...n},r=await s.MN.update(t,a),l=i(r.data);e(e=>({applications:e.applications.map(e=>e.id===t?l:e),editingApplicationId:null}))}catch(t){throw e({applicationsError:"Failed to update application."}),console.error("Failed to update application:",t),t}},deleteApplication:async t=>{try{await s.MN.delete(t),e(e=>({applications:e.applications.filter(e=>e.id!==t),selectedApplicationId:e.selectedApplicationId===t?null:e.selectedApplicationId}))}catch(t){throw e({applicationsError:"Failed to delete application."}),console.error("Failed to delete application:",t),t}},addResumeVersion:async t=>{try{let n=await s.op.create(t),a=r(n.data);e(e=>({resumeVersions:[...e.resumeVersions,a],isAddingResume:!1}))}catch(t){throw e({resumesError:"Failed to create resume version."}),console.error("Failed to add resume:",t),t}},updateResumeVersion:async(t,n)=>{try{let a=await s.op.update(t,n),i=r(a.data);e(e=>({resumeVersions:e.resumeVersions.map(e=>e.id===t?i:e),editingResumeId:null}))}catch(t){throw e({resumesError:"Failed to update resume version."}),console.error("Failed to update resume:",t),t}},deleteResumeVersion:async t=>{try{await s.op.delete(t),e(e=>({resumeVersions:e.resumeVersions.filter(e=>e.id!==t),editingResumeId:e.editingResumeId===t?null:e.editingResumeId}))}catch(t){throw e({resumesError:"Failed to delete resume version."}),console.error("Failed to delete resume:",t),t}},setActiveView:t=>e({activeView:t}),setSelectedApplication:t=>e({selectedApplicationId:t}),setEditingApplication:t=>e({editingApplicationId:t}),setEditingResume:t=>e({editingResumeId:t}),setIsAddingApplication:t=>e({isAddingApplication:t}),setIsAddingResume:t=>e({isAddingResume:t}),setSearchQuery:t=>e({searchQuery:t}),setStatusFilter:t=>e({statusFilter:t}),setCompareVersions:t=>e({compareVersionIds:t}),clearErrors:()=>e({applicationsError:null,resumesError:null}),getApplicationById:e=>t().applications.find(t=>t.id===e),getResumeById:e=>t().resumeVersions.find(t=>t.id===e),getFilteredApplications:()=>{let{applications:e,searchQuery:n,statusFilter:a}=t();return e.filter(e=>{let t=e.company.toLowerCase().includes(n.toLowerCase())||e.position.toLowerCase().includes(n.toLowerCase())||e.location.toLowerCase().includes(n.toLowerCase()),s="all"===a||e.status===a;return t&&s})},getApplicationsByStatus:()=>{let e=t().getFilteredApplications();return{saved:e.filter(e=>"saved"===e.status),applied:e.filter(e=>"applied"===e.status),interview:e.filter(e=>"interview"===e.status),offer:e.filter(e=>"offer"===e.status),rejected:e.filter(e=>"rejected"===e.status)}},getAnalytics:()=>{let{applications:e}=t(),n=e.length,a=e.filter(e=>"saved"!==e.status).length,s=e.filter(e=>"interview"===e.status).length,i=e.filter(e=>"offer"===e.status).length,r=e.filter(e=>"rejected"===e.status).length,l=e.filter(e=>"applied"===e.status).length,o=a>0?((s+i+r)/a*100).toFixed(1):"0",c=a>0?((s+i)/a*100).toFixed(1):"0",d=s+i>0?(i/(s+i)*100).toFixed(1):"0";return{total:n,applied:a,interviews:s,offers:i,rejected:r,pending:l,responseRate:o,interviewRate:c,offerRate:d}}}));var o=n(2265);function c(){let e=l(e=>e.applications);return(0,o.useMemo)(()=>{let t=e.length,n=e.filter(e=>"saved"!==e.status).length,a=e.filter(e=>"interview"===e.status).length,s=e.filter(e=>"offer"===e.status).length,i=e.filter(e=>"rejected"===e.status).length,r=e.filter(e=>"applied"===e.status).length,l=n>0?((a+s+i)/n*100).toFixed(1):"0",o=n>0?((a+s)/n*100).toFixed(1):"0",c=a+s>0?(s/(a+s)*100).toFixed(1):"0";return{total:t,applied:n,interviews:a,offers:s,rejected:i,pending:r,responseRate:l,interviewRate:o,offerRate:c}},[e])}var d=n(3969)},3969:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var a=n(9625),s=n(5023);let i=(0,a.Ue)(e=>({user:null,isLoading:!1,error:null,isAuthenticated:!1,login:async t=>{console.log("[Auth Store] Login called with:",t),e({isLoading:!0,error:null});try{console.log("[Auth Store] Calling authAPI.login...");let n=await s.kv.login(t);console.log("[Auth Store] Login response:",n),e({user:n,isAuthenticated:!0,isLoading:!1})}catch(t){throw console.error("[Auth Store] Login error:",t),e({error:t instanceof Error?t.message:"Login failed",isLoading:!1,isAuthenticated:!1}),t}},register:async t=>{e({isLoading:!0,error:null});try{let n=await s.kv.register(t);e({user:n,isAuthenticated:!0,isLoading:!1})}catch(t){throw e({error:t instanceof Error?t.message:"Registration failed",isLoading:!1,isAuthenticated:!1}),t}},logout:()=>{console.log("[Auth Store] Logging out..."),s.kv.logout(),(0,s.gy)(),e({user:null,isAuthenticated:!1,error:null}),console.log("[Auth Store] Logged out, isAuthenticated set to false")},checkAuth:async()=>{e({isLoading:!0,error:null});try{let t=await s.kv.getMe();e({user:t.data,isAuthenticated:!0,isLoading:!1})}catch(t){(0,s.gy)(),e({user:null,isAuthenticated:!1,isLoading:!1})}},clearError:()=>e({error:null})}))},5023:function(e,t,n){"use strict";n.d(t,{MN:function(){return o},gy:function(){return i},kv:function(){return l},op:function(){return c}});let a=()=>localStorage.getItem("token"),s=e=>{localStorage.setItem("token",e)},i=()=>{localStorage.removeItem("token"),console.log("Token Removed")};async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a(),s={"Content-Type":"application/json",...t.headers||{}};n&&(s.Authorization="Bearer ".concat(n));let i=await fetch("".concat("http://localhost:8000/api").concat(e),{...t,headers:s}),r=await i.json();if(!i.ok)throw Error(r.message||"Something went wrong");return r}let l={register:async e=>{let t=await r("/auth/register",{method:"POST",body:JSON.stringify(e)});return t.data.token&&s(t.data.token),t.data},login:async e=>{let t=await r("/auth/login",{method:"POST",body:JSON.stringify(e)});return t.data.token&&s(t.data.token),t.data},logout:()=>{i()},getMe:async()=>r("/auth/me"),updateProfile:async e=>r("/auth/me",{method:"PUT",body:JSON.stringify(e)}),updatePassword:async(e,t)=>r("/auth/password",{method:"PUT",body:JSON.stringify({currentPassword:e,newPassword:t})})},o={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;Object.entries(e).forEach(e=>{let[n,a]=e;null!=a&&t.append(n,String(a))});let n=t.toString();return r("/applications".concat(n?"?".concat(n):""))},getOne:async e=>r("/applications/".concat(e)),create:async e=>r("/applications",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>r("/applications/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>r("/applications/".concat(e),{method:"DELETE"}),getStats:async()=>r("/applications/stats"),bulkUpdateStatus:async(e,t)=>r("/applications/bulk-status",{method:"PUT",body:JSON.stringify({ids:e,status:t})})},c={getAll:async()=>r("/resumes"),getOne:async e=>r("/resumes/".concat(e)),create:async e=>r("/resumes",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>r("/resumes/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>r("/resumes/".concat(e),{method:"DELETE"}),compare:async(e,t)=>r("/resumes/compare/".concat(e,"/").concat(t)),duplicate:async e=>r("/resumes/".concat(e,"/duplicate"),{method:"POST"})}},3448:function(e,t,n){"use strict";n.d(t,{D_:function(){return o},_U:function(){return d},cn:function(){return i},eL:function(){return c},ni:function(){return l},p6:function(){return r}});var a=n(1994),s=n(3335);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,a.W)(t))}function r(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}function l(e){let t=new Date,n=new Date(e),a=Math.floor((t.getTime()-n.getTime())/864e5);return 0===a?"Today":1===a?"Yesterday":a<7?"".concat(a," days ago"):a<30?"".concat(Math.floor(a/7)," weeks ago"):"".concat(Math.floor(a/30)," months ago")}function o(e,t){let n=e.split("\n"),a=t.split("\n"),s=[],i=function(e,t){let n=e.length,a=t.length,s=Array(n+1).fill(null).map(()=>Array(a+1).fill(0));for(let i=1;i<=n;i++)for(let n=1;n<=a;n++)e[i-1]===t[n-1]?s[i][n]=s[i-1][n-1]+1:s[i][n]=Math.max(s[i-1][n],s[i][n-1]);let i=[],r=n,l=a;for(;r>0&&l>0;)e[r-1]===t[l-1]?(i.unshift(e[r-1]),r--,l--):s[r-1][l]>s[r][l-1]?r--:l--;return i}(n,a),r=0,l=0,o=0;for(;r<n.length||l<a.length;)o<i.length&&r<n.length&&n[r]===i[o]?l<a.length&&a[l]===i[o]?(s.push({type:"unchanged",content:n[r]}),r++,l++,o++):(s.push({type:"added",content:a[l]}),l++):r<n.length&&(o>=i.length||n[r]!==i[o])?(s.push({type:"removed",content:n[r]}),r++):l<a.length&&(s.push({type:"added",content:a[l]}),l++);return s}function c(e){return e.replace(/^### (.+)$/gm,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.+)$/gm,'<h2 class="text-xl font-bold mt-6 mb-3 text-indigo-400">$1</h2>').replace(/^# (.+)$/gm,'<h1 class="text-2xl font-bold mb-4">$1</h1>').replace(/\*\*(.+?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,'<code class="px-1.5 py-0.5 bg-white/10 rounded text-sm font-mono">$1</code>').replace(/^- (.+)$/gm,'<li class="ml-4 list-disc">$1</li>').replace(/\n\n/g,'</p><p class="mb-3">').replace(/\n/g,"<br/>")}function d(e){let t=function(e){if(!e)return null;let t=new Date;return Math.ceil((new Date(e).getTime()-t.getTime())/864e5)}(e);return null===t?null:t<0?"overdue":t<=3?"urgent":t<=7?"upcoming":"safe"}},2778:function(){}},function(e){e.O(0,[461,633,807,971,117,744],function(){return e(e.s=5786)}),_N_E=e.O()}]);