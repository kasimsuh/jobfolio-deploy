exports.id=185,exports.ids=[185],exports.modules={4788:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},2398:(e,t,s)=>{Promise.resolve().then(s.bind(s,4037))},4037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var i=s(326);s(7577);var a=s(5047);s(3824);var r=s(6464),n=s(7546),l=s(6283),o=s(3578),d=s(1810),c=s(1223),u=s(434),p=s(9904);let m=[{path:"/",icon:r.Z,label:"Dashboard"},{path:"/applications",icon:n.Z,label:"Applications"},{path:"/resumes",icon:l.Z,label:"Resumes"},{path:"/compare",icon:o.Z,label:"Compare"}];function h(){let e=(0,a.usePathname)(),t=(0,a.useRouter)(),s=(0,p.tN)(e=>e.logout),r=(0,p.tN)(e=>e.user);return i.jsx("header",{className:"border-b border-slate-200 bg-white sticky top-0 z-50 shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500 flex items-center justify-center shadow-soft",children:i.jsx(n.Z,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"font-display text-xl font-bold text-slate-800",children:"JobFolio"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Application Tracker + Resume Versioning"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[i.jsx("nav",{className:"flex items-center gap-1",children:m.map(({path:t,icon:s,label:a})=>{let r=e===t;return i.jsx(u.default,{href:t,children:(0,i.jsxs)("button",{className:(0,c.cn)("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",r?"bg-primary-50 text-primary-600":"text-slate-600 hover:text-slate-800 hover:bg-slate-100"),children:[i.jsx(s,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:a})]})},t)})}),(0,i.jsxs)("div",{className:"flex items-center gap-3 border-l border-slate-200 pl-4",children:[r&&i.jsx("span",{className:"text-sm text-slate-600 hidden md:inline",children:r.name}),(0,i.jsxs)("button",{onClick:()=>{s(),t.push("/login")},className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 transition-all",title:"Logout",children:[i.jsx(d.Z,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})]})})})}var g=s(7888),x=s(4019);function f(){let e=(0,p.qr)(e=>e.applicationsError),t=(0,p.qr)(e=>e.resumesError),s=(0,p.qr)(e=>e.fetchApplications),a=(0,p.qr)(e=>e.fetchResumes),r=(0,p.qr)(e=>e.clearErrors),n=e||t;return n?i.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mx-6 mt-6 rounded",children:(0,i.jsxs)("div",{className:"flex items-start",children:[i.jsx(g.Z,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Data"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:n}),i.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Make sure the backend server is running on port 8000."})]}),(0,i.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[i.jsx("button",{onClick:()=>{e&&s(),t&&a()},className:"text-sm text-red-600 hover:text-red-800 underline",children:"Retry"}),i.jsx("button",{onClick:r,className:"text-red-400 hover:text-red-600","aria-label":"Dismiss error",children:i.jsx(x.Z,{className:"w-4 h-4"})})]})]})}):null}function y({children:e}){let t=(0,a.usePathname)();(0,a.useRouter)(),(0,p.qr)(e=>e.fetchApplications),(0,p.qr)(e=>e.fetchResumes);let s=(0,p.qr)(e=>e.isLoadingApplications),r=(0,p.qr)(e=>e.isLoadingResumes),{isAuthenticated:n,isLoading:l,checkAuth:o}=(0,p.tN)();return l||n&&"/login"!==t&&(s||r)?i.jsx("html",{lang:"en",children:i.jsx("body",{children:i.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})})}):n||"/login"===t||"/register"===t?i.jsx("html",{lang:"en",children:(0,i.jsxs)("body",{className:"",children:[n&&"/login"!==t&&i.jsx(h,{}),n&&i.jsx(f,{}),i.jsx("main",{className:n&&"/login"!==t?"px-6 py-6":"",children:e})]})}):i.jsx("html",{lang:"en",children:i.jsx("body",{children:i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})})})})})}},9904:(e,t,s)=>{"use strict";s.d(t,{z$:()=>d,qr:()=>l,tN:()=>c.t});var i=s(551),a=s(7331);let r=e=>{let t=e.resumeVersion?{id:e.resumeVersion._id,name:e.resumeVersion.name,description:"",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:null;return{...e,id:e._id,resumeVersion:t,createdAt:e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt||new Date().toISOString()}},n=e=>({...e,id:e._id,createdAt:e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt||new Date().toISOString()}),l=(0,i.Ue)((e,t)=>({applications:[],resumeVersions:[],isLoadingApplications:!1,isLoadingResumes:!1,applicationsError:null,resumesError:null,activeView:"dashboard",selectedApplicationId:null,editingApplicationId:null,editingResumeId:null,isAddingApplication:!1,isAddingResume:!1,searchQuery:"",statusFilter:"all",compareVersionIds:{v1:null,v2:null},fetchApplications:async()=>{e({isLoadingApplications:!0,applicationsError:null});try{let t=(await a.MN.getAll()).data.map(r);e({applications:t,isLoadingApplications:!1})}catch(t){e({applicationsError:"Failed to load applications. Is the backend running on port 8000?",isLoadingApplications:!1}),console.error("Failed to fetch applications:",t)}},fetchResumes:async()=>{e({isLoadingResumes:!0,resumesError:null});try{let t=(await a.op.getAll()).data.map(n);e({resumeVersions:t,isLoadingResumes:!1})}catch(t){e({resumesError:"Failed to load resume versions. Is the backend running on port 8000?",isLoadingResumes:!1}),console.error("Failed to fetch resumes:",t)}},addApplication:async t=>{try{let s={...t},i=await a.MN.create(s),n=r(i.data);e(e=>({applications:[...e.applications,n],isAddingApplication:!1}))}catch(t){throw e({applicationsError:"Failed to create application."}),console.error("Failed to add application:",t),t}},updateApplication:async(t,s)=>{try{let i={...s},n=await a.MN.update(t,i),l=r(n.data);e(e=>({applications:e.applications.map(e=>e.id===t?l:e),editingApplicationId:null}))}catch(t){throw e({applicationsError:"Failed to update application."}),console.error("Failed to update application:",t),t}},deleteApplication:async t=>{try{await a.MN.delete(t),e(e=>({applications:e.applications.filter(e=>e.id!==t),selectedApplicationId:e.selectedApplicationId===t?null:e.selectedApplicationId}))}catch(t){throw e({applicationsError:"Failed to delete application."}),console.error("Failed to delete application:",t),t}},addResumeVersion:async t=>{try{let s=await a.op.create(t),i=n(s.data);e(e=>({resumeVersions:[...e.resumeVersions,i],isAddingResume:!1}))}catch(t){throw e({resumesError:"Failed to create resume version."}),console.error("Failed to add resume:",t),t}},updateResumeVersion:async(t,s)=>{try{let i=await a.op.update(t,s),r=n(i.data);e(e=>({resumeVersions:e.resumeVersions.map(e=>e.id===t?r:e),editingResumeId:null}))}catch(t){throw e({resumesError:"Failed to update resume version."}),console.error("Failed to update resume:",t),t}},deleteResumeVersion:async t=>{try{await a.op.delete(t),e(e=>({resumeVersions:e.resumeVersions.filter(e=>e.id!==t),editingResumeId:e.editingResumeId===t?null:e.editingResumeId}))}catch(t){throw e({resumesError:"Failed to delete resume version."}),console.error("Failed to delete resume:",t),t}},setActiveView:t=>e({activeView:t}),setSelectedApplication:t=>e({selectedApplicationId:t}),setEditingApplication:t=>e({editingApplicationId:t}),setEditingResume:t=>e({editingResumeId:t}),setIsAddingApplication:t=>e({isAddingApplication:t}),setIsAddingResume:t=>e({isAddingResume:t}),setSearchQuery:t=>e({searchQuery:t}),setStatusFilter:t=>e({statusFilter:t}),setCompareVersions:t=>e({compareVersionIds:t}),clearErrors:()=>e({applicationsError:null,resumesError:null}),getApplicationById:e=>t().applications.find(t=>t.id===e),getResumeById:e=>t().resumeVersions.find(t=>t.id===e),getFilteredApplications:()=>{let{applications:e,searchQuery:s,statusFilter:i}=t();return e.filter(e=>{let t=e.company.toLowerCase().includes(s.toLowerCase())||e.position.toLowerCase().includes(s.toLowerCase())||e.location.toLowerCase().includes(s.toLowerCase()),a="all"===i||e.status===i;return t&&a})},getApplicationsByStatus:()=>{let e=t().getFilteredApplications();return{saved:e.filter(e=>"saved"===e.status),applied:e.filter(e=>"applied"===e.status),interview:e.filter(e=>"interview"===e.status),offer:e.filter(e=>"offer"===e.status),rejected:e.filter(e=>"rejected"===e.status)}},getAnalytics:()=>{let{applications:e}=t(),s=e.length,i=e.filter(e=>"saved"!==e.status).length,a=e.filter(e=>"interview"===e.status).length,r=e.filter(e=>"offer"===e.status).length,n=e.filter(e=>"rejected"===e.status).length,l=e.filter(e=>"applied"===e.status).length,o=i>0?((a+r+n)/i*100).toFixed(1):"0",d=i>0?((a+r)/i*100).toFixed(1):"0",c=a+r>0?(r/(a+r)*100).toFixed(1):"0";return{total:s,applied:i,interviews:a,offers:r,rejected:n,pending:l,responseRate:o,interviewRate:d,offerRate:c}}}));var o=s(7577);function d(){let e=l(e=>e.applications);return(0,o.useMemo)(()=>{let t=e.length,s=e.filter(e=>"saved"!==e.status).length,i=e.filter(e=>"interview"===e.status).length,a=e.filter(e=>"offer"===e.status).length,r=e.filter(e=>"rejected"===e.status).length,n=e.filter(e=>"applied"===e.status).length,l=s>0?((i+a+r)/s*100).toFixed(1):"0",o=s>0?((i+a)/s*100).toFixed(1):"0",d=i+a>0?(a/(i+a)*100).toFixed(1):"0";return{total:t,applied:s,interviews:i,offers:a,rejected:r,pending:n,responseRate:l,interviewRate:o,offerRate:d}},[e])}var c=s(3164)},3164:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});var i=s(551),a=s(7331);let r=(0,i.Ue)(e=>({user:null,isLoading:!1,error:null,isAuthenticated:!1,login:async t=>{console.log("[Auth Store] Login called with:",t),e({isLoading:!0,error:null});try{console.log("[Auth Store] Calling authAPI.login...");let s=await a.kv.login(t);console.log("[Auth Store] Login response:",s),e({user:s,isAuthenticated:!0,isLoading:!1})}catch(t){throw console.error("[Auth Store] Login error:",t),e({error:t instanceof Error?t.message:"Login failed",isLoading:!1,isAuthenticated:!1}),t}},register:async t=>{e({isLoading:!0,error:null});try{let s=await a.kv.register(t);e({user:s,isAuthenticated:!0,isLoading:!1})}catch(t){throw e({error:t instanceof Error?t.message:"Registration failed",isLoading:!1,isAuthenticated:!1}),t}},logout:()=>{console.log("[Auth Store] Logging out..."),a.kv.logout(),(0,a.gy)(),e({user:null,isAuthenticated:!1,error:null}),console.log("[Auth Store] Logged out, isAuthenticated set to false")},checkAuth:async()=>{e({isLoading:!0,error:null});try{let t=await a.kv.getMe();e({user:t.data,isAuthenticated:!0,isLoading:!1})}catch(t){(0,a.gy)(),e({user:null,isAuthenticated:!1,isLoading:!1})}},clearError:()=>e({error:null})}))},7331:(e,t,s)=>{"use strict";s.d(t,{MN:()=>o,gy:()=>r,kv:()=>l,op:()=>d});let i=()=>null,a=e=>{},r=()=>{};async function n(e,t={}){let s=i(),a={"Content-Type":"application/json",...t.headers||{}};s&&(a.Authorization=`Bearer ${s}`);let r=await fetch(`http://localhost:8000/api${e}`,{...t,headers:a}),n=await r.json();if(!r.ok)throw Error(n.message||"Something went wrong");return n}let l={register:async e=>{let t=await n("/auth/register",{method:"POST",body:JSON.stringify(e)});return t.data.token&&a(t.data.token),t.data},login:async e=>{let t=await n("/auth/login",{method:"POST",body:JSON.stringify(e)});return t.data.token&&a(t.data.token),t.data},logout:()=>{r()},getMe:async()=>n("/auth/me"),updateProfile:async e=>n("/auth/me",{method:"PUT",body:JSON.stringify(e)}),updatePassword:async(e,t)=>n("/auth/password",{method:"PUT",body:JSON.stringify({currentPassword:e,newPassword:t})})},o={getAll:async(e={})=>{let t=new URLSearchParams;Object.entries(e).forEach(([e,s])=>{null!=s&&t.append(e,String(s))});let s=t.toString();return n(`/applications${s?`?${s}`:""}`)},getOne:async e=>n(`/applications/${e}`),create:async e=>n("/applications",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>n(`/applications/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>n(`/applications/${e}`,{method:"DELETE"}),getStats:async()=>n("/applications/stats"),bulkUpdateStatus:async(e,t)=>n("/applications/bulk-status",{method:"PUT",body:JSON.stringify({ids:e,status:t})})},d={getAll:async()=>n("/resumes"),getOne:async e=>n(`/resumes/${e}`),create:async e=>n("/resumes",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>n(`/resumes/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>n(`/resumes/${e}`,{method:"DELETE"}),compare:async(e,t)=>n(`/resumes/compare/${e}/${t}`),duplicate:async e=>n(`/resumes/${e}/duplicate`,{method:"POST"})}},1223:(e,t,s)=>{"use strict";s.d(t,{D_:()=>o,_U:()=>c,cn:()=>r,eL:()=>d,ni:()=>l,p6:()=>n});var i=s(1135),a=s(1009);function r(...e){return(0,a.m6)((0,i.W)(e))}function n(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}function l(e){let t=new Date,s=new Date(e),i=Math.floor((t.getTime()-s.getTime())/864e5);return 0===i?"Today":1===i?"Yesterday":i<7?`${i} days ago`:i<30?`${Math.floor(i/7)} weeks ago`:`${Math.floor(i/30)} months ago`}function o(e,t){let s=e.split("\n"),i=t.split("\n"),a=[],r=function(e,t){let s=e.length,i=t.length,a=Array(s+1).fill(null).map(()=>Array(i+1).fill(0));for(let r=1;r<=s;r++)for(let s=1;s<=i;s++)e[r-1]===t[s-1]?a[r][s]=a[r-1][s-1]+1:a[r][s]=Math.max(a[r-1][s],a[r][s-1]);let r=[],n=s,l=i;for(;n>0&&l>0;)e[n-1]===t[l-1]?(r.unshift(e[n-1]),n--,l--):a[n-1][l]>a[n][l-1]?n--:l--;return r}(s,i),n=0,l=0,o=0;for(;n<s.length||l<i.length;)o<r.length&&n<s.length&&s[n]===r[o]?l<i.length&&i[l]===r[o]?(a.push({type:"unchanged",content:s[n]}),n++,l++,o++):(a.push({type:"added",content:i[l]}),l++):n<s.length&&(o>=r.length||s[n]!==r[o])?(a.push({type:"removed",content:s[n]}),n++):l<i.length&&(a.push({type:"added",content:i[l]}),l++);return a}function d(e){return e.replace(/^### (.+)$/gm,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.+)$/gm,'<h2 class="text-xl font-bold mt-6 mb-3 text-indigo-400">$1</h2>').replace(/^# (.+)$/gm,'<h1 class="text-2xl font-bold mb-4">$1</h1>').replace(/\*\*(.+?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,'<code class="px-1.5 py-0.5 bg-white/10 rounded text-sm font-mono">$1</code>').replace(/^- (.+)$/gm,'<li class="ml-4 list-disc">$1</li>').replace(/\n\n/g,'</p><p class="mb-3">').replace(/\n/g,"<br/>")}function c(e){let t=function(e){if(!e)return null;let t=new Date;return Math.ceil((new Date(e).getTime()-t.getTime())/864e5)}(e);return null===t?null:t<0?"overdue":t<=3?"urgent":t<=7?"upcoming":"safe"}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(8570).createProxy)(String.raw`/Users/suhiyinikasim/Desktop/jobfolio-deploy/frontend/src/app/layout.tsx#default`)},3824:()=>{}};